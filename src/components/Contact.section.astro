---
import { Image } from "astro:assets";
import Title from "./Title.astro";
import MapaCba from "../assets/svg/mapa.webp";
import Send from "../assets/svg/send.svg";
import Clean from "../assets/svg/clean.svg";
import ContactoFondo from "../assets/mapa.jpg";
---

<article id="contact-section" class="min-h-dvh relative">
  <Image
    src={ContactoFondo}
    alt="Fondo"
    class="object-fit h-dvh min-h-[40rem] z-10 absolute top-0 left-0 opacity-10"
  />
  <div
    class="z-20 absolute w-full top-0 left-0 bg-transparent text-white flex flex-col gap-12 lg:gap-20 items-center justify-evenly lg:justify-center p-8 lg:p-24"
  >
    <Title title="Contacto" class="z-20" />
    <div class="flex flex-col 2xl:flex-row w-full gap-8">
      <form
        id="form"
        class="first flex flex-col gap-2 lg:gap-4 basis-1/2 [&>*]:text-sm lg:[&>*]:text-md lg:[&>*]:xl:text-lg [&>*]:outline-none [&>input]:bg-[var(--secondary-bg)] [&>textarea]:bg-[var(--secondary-bg)] [&>input]:px-4 [&>textarea]:px-4 [&>*]:py-3 lg:[&>input]:px-6 lg:[&>textarea]:px-6 lg:[&>*]:py-2"
      >
        <input id="name" type="text" placeholder="Nombre" />
        <input type="text" placeholder="Telefono" />
        <input type="text" placeholder="Correo" />
        <input type="text" placeholder="Asunto" />
        <textarea placeholder="Por favor, escribe tu consulta..."></textarea>
        <div
          class="flex flex-col md:flex-row gap-x-4 justify-end items-center gap-y-4 [&>button]:w-[15rem] [&>button]:px-12 [&>button]:border-2 [&>button]:border-[var(--primary-color)] [&>button]:h-full [&>button]:py-3 [&>button]:px-12 hover:[&>button]:border-white"
        >
          <button id="resetButton" class="bg-transparent" type="reset"
            >Limpiar <Clean class="inline size-6 ml-2" /></button
          >
          <button class="bg-[var(--primary-color)]"
            >Enviar <Send class="inline size-5 ml-2" /></button
          >
        </div>
      </form>

      <section class="basis-1/2">
        <Image
          src={MapaCba}
          alt="mapa"
          class="second w-full max-w-[50rem] mx-auto"
        />
      </section>
    </div>
  </div>
</article>

<style>
  #contact-section {
    textarea {
      resize: vertical;
      min-height: 15rem;
    }
    input,
    textarea {
      background-image: linear-gradient(
        to right,
        var(--primary-color),
        var(--primary-color)
      );
      background-position: left bottom;
      background-repeat: no-repeat;
      background-size: 0% 2px;
    }
    input:focus,
    textarea:focus {
      background-size: 100% 2px;
      transition: all 300ms;
    }
    /* button {
      background-image: linear-gradient(
        to right,
        var(--primary-color),
        var(--primary-color)
      );
      background-repeat: no-repeat;
      background-position: left;
      background-size: 0% 100%;
      transition: background-size 300ms;
    }
    button:hover {
      background-size: 100% 100%;
      transition: background-size 300ms;
    } */
  }
</style>

<script>
  const resetButton = document.getElementById("resetButton");
  const name = document.getElementById("name");

  resetButton?.addEventListener("click", function () {
    setTimeout(() => {
      name?.focus();
    }, 0);
  });
</script>
